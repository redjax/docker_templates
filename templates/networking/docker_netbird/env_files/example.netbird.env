##
# General
##

## Default: localhost
NETBIRD_DOMAIN=localhost

## (optional) Default: prod
#  Options: dev, test, prod
ENVIRONMENT=prod

## Default: false (enables debug logging when true)
DEBUG=false

## Default: info
#  Options: debug, info, warn, error
LOG_LEVEL=info

## Default: /var/lib/netbird/logs/netbird.log
#  Output logs to file instead of stdout
LOG_FILE=/var/lib/netbird/logs/netbird.log

##
# Database
##

## Default: postgres
DB_HOST=postgres
## Default: 5432
DB_PORT=5432
## Default: netbird
DB_NAME=netbird
## Default: netbird
DB_USER=netbird
## Default: netbird
DB_PASSWORD=netbird

## (optional) Default: (none/empty)
#  Set to disable 'disable' for local dev/on http networks
DB_SSLMODE=

##
# Management server
##

## Default: :33073
MANAGEMENT_LISTEN_ADDRESS=:33073
## Default: http://localhost:33073
MANAGEMENT_PUBLIC_URL=http://localhost:33073

## Default: none
#  Authentication provider:
#    none = no auth (local/dev)
#    oidc = OpenID Connect (Keycloak, Zitadel, etc.)
AUTH_PROVIDER=none
## Default: none
#  OIDC issuer URL, i.e. https://keycloak.example.com, https://zitadel.example.com, etc
AUTH_AUTHORITY=
## Default: none
AUTTH0_DOMAIN=

## Default: (none/empty)
OIDC_CLIENT_ID=
## Default: (none/empty)
OIDC_CLIENT_SECRET=
## Default: (none/empty)
OIDC_ISSUER_URL=
## Default: (none/empty)
OIDC_REDIRECT_URI=
## Default: "openid email profile"
OIDC_SCOPES="openid email profile"

## Default: (none/empty)
#  Example: alice,bob
#  Only relevant/used when AUTH_PROVIDER=none
ADMIN_USERS=

## (optional) Default: default
#  Comma-separated network names to auto-create on startup
DEFAULT_NETWORK_NAME=default

##
# Signal server
##

## Default: signal:10000
SIGNAL_ADDRESS=signal:10000
## Default: ws://localhost:10000
SIGNAL_PUBLIC_URL=ws://localhost:10000

##
# Signal TURN/STUN server config for NAT traversal
#
# Requires an existing TURN/STUN server, not included.
## 

## Default: false
TURN_ENABLED=false
## Default: (none/empty)
TURN_SERVER=
## Default: 3478
TURN_PORT=3478
## Default: (none/empty)
TURN_USER=
## Default: (none/empty)
TURN_PASSWORD=

##
# Dashboard
##

## Default: http://localhost:8080
DASHBOARD_PUBLIC_URL=http://localhost:8080
## Default: http://management:33073
MANAGEMENT_URL=http://management:33073
## Default: true
#  Set to false to disable signups from the webUI
ALLOW_SELF_REGISTRATION=true

##
# Telemetry
##

## Default: true
DISABLE_ANONYMOUS_METRICS=true

## (optional) Metrics endpoint for Prometheus scraping
METRICS_ENABLED=true
METRICS_PORT=9100

##
# Security / TLS
##

## Default: false
TLS_ENABLED=false
## Default: /certs/fullchain.pem
TLS_CERT_FILE=/certs/fullchain.pem
## Default: /certs/privkey.pem
TLS_KEY_FILE=/certs/privkey.pem

## Default: true
#  Force HTTPS when true
TLS_HSTS=true

##
# Advanced / Optional
##

## Default: false
#  Enable WebSocket compression for signal server
SIGNAL_WS_COMPRESSION=false

## Default: 30s
#  Heartbeat interval between agents and management
AGENT_HEARTBEAT_INTERVAL=30s

## Default: 1h
#  Maximum session duration for agents
AGENT_SESSION_TTL=1h

## Default: false
#  Enable packet capture logging for debugging
PACKET_CAPTURE=false

## Default: 0
#  Maximum allowed concurrent agents (0 = unlimited)
MAX_AGENTS=0

## Default: (none/empty)
#  Path to external config file overrides (optional)
EXTERNAL_CONFIG_FILE=
